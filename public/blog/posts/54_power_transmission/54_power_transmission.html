<blockquote>
<p>Problem Link: <a href="https://codeforces.com/contest/1163/problem/C2">https://codeforces.com/contest/1163/problem/C2</a></p>
</blockquote>
<p><em><strong>Problem</strong>: You are given <span class="math inline">\(N\)</span> points on a 2D plane. Between every pair of points, there is an infinite straight line that passes through those two points. How many pairs of lines intersect with one another? Note that if there are more than two points lying on the same line, it counts as a single line. <span class="math inline">\(N \le 1000\)</span></em></p>
<p>We know that for any pair of lines, if they are not parallel, then they must intersect somewhere. Therefore, we can reduce the problem to just finding for each gradient, how many unique lines of that gradient exist.</p>
<p>Now mathematically speaking, this is easy to do, but how do we actually do this in code? You might think that it is worthwhile just to loop each pair of points, and generate a line equation from each pair of points. For each line equation, we can use a hashset to make sure that we are not considering a line that we’ve seen before. If it’s a new line we haven’t seen before, then we can increase the count of the number of lines with that gradient using a hashmap. Finally, we can loop over our hashmap and assume that every line of a particular gradient will intersect with every single other line to compute our answer. Seems good right? Well the devil is in the details. Let’s examine how we would actually represent out lines in code.</p>
<p>Let’s say that we choose to represent every line by the formula <span class="math inline">\(ax - by = c\)</span>. In other words, for each line, we only store the variables <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span>, and <span class="math inline">\(c\)</span> as floats. Doing a bit of maths, we can find out that the gradient of this line is given by <span class="math inline">\(a/b\)</span>. Now, there’s a couple issues with this.. Firstly, when the line is vertical calculating the gradient will involve dividing by 0, which is a big no no. We’ll tackle that problem later. The other problem right now is that if we use floats, we become susceptible to precision errors.</p>
<h3 id="the-problem-with-floating-points">The Problem with Floating Points</h3>
<p>Let’s say we want to compare two lines to see if they have the same gradient. Then we’re going to have to compare the value of one float against another. The issue here is that computers aren’t very good at storing floating point numbers. This is because there are an infinite number of floating point numbers that a computer needs to represent, but only in a finite set of bits. Compromises have to be made, and so computers only store a subset of the possible floating point numbers. This gives rise to precision errors, where the computer is unable to perfectly store the results of calculations, which can lead to some really surprising results. To test this for yourself, try comparing the results of <span class="math inline">\(0.1 + 0.2\)</span> with <span class="math inline">\(0.3\)</span> in the language of your choice.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="fl">0.1</span> <span class="op">+</span> <span class="fl">0.2</span> <span class="op">==</span> <span class="fl">0.3</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># False</span></span></code></pre></div>
<p>What happened? Let’s take a look at what <span class="math inline">\(0.1 + 0.2\)</span> actually evaluates to:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="fl">0.1</span> <span class="op">+</span> <span class="fl">0.2</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.30000000000000004</span></span></code></pre></div>
<p>As you can see, we have hit upon a precision error. This is why in general, when comparing floats, you should always use some sort of margin of error. Modifying our above code looks like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>EPS <span class="op">=</span> <span class="fl">0.000001</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">abs</span>((<span class="fl">0.1</span> <span class="op">+</span> <span class="fl">0.2</span>) <span class="op">-</span> <span class="fl">0.3</span>) <span class="op">&lt;</span> EPS)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># True</span></span></code></pre></div>
<p>This helps, though if possible we’d like to avoid it since it does introduce a small chance of presicion error (however small). To deal with this, when we can, we like to work with <em>integers</em> instead. That way, there is no ambiguity when adding, multiplying and dividing numbers.</p>
<h3 id="standardising-lines">Standardising Lines</h3>
<p>Okay, let’s return to our formula <span class="math inline">\(ax - by = c\)</span>, but this time, we are storing values of <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span> using integers. This is possible, since the points given to us in the question are integers (if they weren’t, we’d be forced to put up with the precision errors). We can use the following 3 equations to compute our <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span> values:</p>
<p><span class="math display">\[a = y_1 - y_2, \]</span> <span class="math display">\[b = x_1 - x_2,\]</span> <span class="math display">\[c = a x_1 - b y_1. \]</span></p>
<p>Now, each line is uniquely determined by it’s <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span> values right? Well yes, but it doesn’t mean that every unique <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span> value correspond to a unique line. Imagine the following two lines:</p>
<p><span class="math display">\[x - 2y = 3\]</span> <span class="math display">\[3x - 6y = 9\]</span></p>
<p>These two are clearly the same line, but our values are different! Therefore, the first thing that we should do is to find the <a href="https://en.wikipedia.org/wiki/Greatest_common_divisor">gcd</a> of <span class="math inline">\(|a|\)</span> and <span class="math inline">\(|b|\)</span>, and divide through by them (note that we don’t need to include <span class="math inline">\(c\)</span> in our gcd, since <span class="math inline">\(c\)</span> is already a integer linear combination of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>).</p>
<p>But we still run into another issue, which is negative numbers. Consider the following two lines:</p>
<p><span class="math display">\[x - y = 1\]</span> <span class="math display">\[-x + y = -1\]</span></p>
<p>Once again, these are the same line, we cannot divide out anything via gcd, but their <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span> values are still different. To standardize this line, we enforce that <span class="math inline">\(a\)</span> must be non-negative. Furthermore, if <span class="math inline">\(a\)</span> is 0, then we enforce that <span class="math inline">\(b\)</span> is positive. To make this condition true, we can simply multiply all values of <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span> by negative one as needed.</p>
<p>At this point, we have standardized all lines. This means that if we apply all the following steps, then there is a one-to-one mapping of <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span>, and <span class="math inline">\(c\)</span> values with a line. Even better, the gradient can be uniquely represented as the pair (<span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span>) and once again, the gradient values are standardized as well. Even even better, we are now dealing with vertical lines for free! After standardisation, all vertical lines will be represented with <span class="math inline">\(a = 1\)</span> and <span class="math inline">\(b = 0\)</span>. Returning the gradient as a pair means that we don’t actually ever divide by 0, which is a big bonus!</p>
<h3 id="summary">Summary</h3>
<p>In short, to represent a line passing through <span class="math inline">\((x_1, y_1), (x_2, y_2)\)</span> in standardized form:</p>
<ol type="1">
<li>Let <span class="math inline">\(a = y_1 - y_2\)</span></li>
<li>Let <span class="math inline">\(b = x_1 - x_2\)</span></li>
<li>if <span class="math inline">\(a\)</span> is negative, then multiply <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> by <span class="math inline">\(-1\)</span>.</li>
<li>if <span class="math inline">\(a\)</span> is 0 and <span class="math inline">\(b\)</span> is negative, then multiple <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> by <span class="math inline">\(-1\)</span>.</li>
<li>Let <span class="math inline">\(g\)</span> be the gcd of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>. Divide <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> by <span class="math inline">\(g\)</span>.</li>
<li>Let <span class="math inline">\(c = a x_1 - b y_1\)</span></li>
</ol>
<p>This gives us the very nice properties that:</p>
<ul>
<li>the line is uniquely represented by <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> and <span class="math inline">\(c\)</span></li>
<li>the gradient is uniquely represented by <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span></li>
<li>vertical lines have <span class="math inline">\(a = 1\)</span> and <span class="math inline">\(b = 0\)</span></li>
</ul>
<p>And finally, bringing this all back together to solve our original problem, here is the code:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> ll<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> array<span class="op">&lt;</span>ll<span class="op">,</span> <span class="dv">3</span><span class="op">&gt;</span> a3<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span>ll<span class="op">,</span> ll<span class="op">&gt;</span> pii<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="pp">#define x </span>first</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="pp">#define y </span>second</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="pp">#define pb </span>push_back</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="pp">#define all</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>x<span class="op">.</span>begin<span class="op">(),</span><span class="pp"> </span>x<span class="op">.</span>end<span class="op">()</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="pp">#define sz</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span><span class="dt">int</span><span class="op">(</span>x<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="pp">#define rep</span><span class="op">(</span>i<span class="op">,</span><span class="pp"> </span>n<span class="op">)</span><span class="pp"> </span><span class="cf">for</span><span class="pp"> </span><span class="op">(</span><span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span><span class="op">=</span><span class="pp"> </span><span class="dv">0</span><span class="op">;</span><span class="pp"> </span>i<span class="pp"> </span><span class="op">&lt;</span><span class="pp"> </span><span class="op">(</span>n<span class="op">);</span><span class="pp"> </span>i<span class="op">++)</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MAXN </span><span class="dv">1005</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>ll gcd<span class="op">(</span>ll a<span class="op">,</span> ll b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>b <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> a<span class="op">;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">return</span> gcd<span class="op">(</span>b<span class="op">,</span> a<span class="op">%</span>b<span class="op">);</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co">// We define the following standard form: ax - by = c</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">// a and b are such that a/b is it&#39;s simplest form.</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">// if a is non-zero, it is positive</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co">// if a is zero, then b is positive</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co">// c = ax-by</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co">// note: by definition, line is vertical iff a=1 and b=0.</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Line <span class="op">{</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    ll a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span> <span class="co">// ax - by = c</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    Line<span class="op">(</span>pii p1<span class="op">,</span> pii p2<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>        a <span class="op">=</span> p1<span class="op">.</span>y <span class="op">-</span> p2<span class="op">.</span>y<span class="op">;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>        b <span class="op">=</span> p1<span class="op">.</span>x <span class="op">-</span> p2<span class="op">.</span>x<span class="op">;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">||</span> <span class="op">(</span>a <span class="op">==</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> b <span class="op">&lt;</span> <span class="dv">0</span><span class="op">))</span> a <span class="op">*=</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> b <span class="op">*=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>        ll d <span class="op">=</span> gcd<span class="op">(</span>abs<span class="op">(</span>a<span class="op">),</span> abs<span class="op">(</span>b<span class="op">));</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>        a <span class="op">/=</span> d<span class="op">,</span> b <span class="op">/=</span> d<span class="op">;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>        c <span class="op">=</span> a <span class="op">*</span> p1<span class="op">.</span>x <span class="op">-</span> b <span class="op">*</span> p1<span class="op">.</span>y<span class="op">;</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    pii gradient<span class="op">()</span> <span class="op">{</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">{</span>a<span class="op">,</span> b<span class="op">};</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>pii ps<span class="op">[</span>MAXN<span class="op">];</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main <span class="op">()</span> <span class="op">{</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    ios_base<span class="op">::</span>sync_with_stdio<span class="op">(</span><span class="kw">false</span><span class="op">);</span> cin<span class="op">.</span>tie<span class="op">(</span>NULL<span class="op">);</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> N<span class="op">;</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> N<span class="op">;</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    rep<span class="op">(</span>i<span class="op">,</span> N<span class="op">)</span> cin <span class="op">&gt;&gt;</span> ps<span class="op">[</span>i<span class="op">].</span>x <span class="op">&gt;&gt;</span> ps<span class="op">[</span>i<span class="op">].</span>y<span class="op">;</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    set<span class="op">&lt;</span>a3<span class="op">&gt;</span> seen<span class="op">;</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    map<span class="op">&lt;</span>pii<span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> grads<span class="op">;</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    rep<span class="op">(</span>i<span class="op">,</span> N<span class="op">)</span> rep<span class="op">(</span>j<span class="op">,</span> i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>        pii p1 <span class="op">=</span> ps<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>        pii p2 <span class="op">=</span> ps<span class="op">[</span>j<span class="op">];</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>        Line l<span class="op">(</span>p1<span class="op">,</span> p2<span class="op">);</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ignore this line if we&#39;ve seen it before</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>seen<span class="op">.</span>count<span class="op">({</span>l<span class="op">.</span>a<span class="op">,</span> l<span class="op">.</span>b<span class="op">,</span> l<span class="op">.</span>c<span class="op">}))</span> <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>        seen<span class="op">.</span>insert<span class="op">({</span>l<span class="op">.</span>a<span class="op">,</span> l<span class="op">.</span>b<span class="op">,</span> l<span class="op">.</span>c<span class="op">});</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>        <span class="co">// increment the number of lines with this gradient.</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>        grads<span class="op">[</span>l<span class="op">.</span>gradient<span class="op">()]++;</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    <span class="co">// compute total number of intersections</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>    ll total_lines <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    ll total <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span> p <span class="op">:</span> grads<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>        total <span class="op">+=</span> total_lines <span class="op">*</span> p<span class="op">.</span>y<span class="op">;</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>        total_lines <span class="op">+=</span> p<span class="op">.</span>y<span class="op">;</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%lld\n</span><span class="st">&quot;</span><span class="op">,</span> total<span class="op">);</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
